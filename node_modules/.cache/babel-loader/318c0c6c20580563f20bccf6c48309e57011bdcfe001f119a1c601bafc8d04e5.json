{"ast":null,"code":"import { uiResetError } from './actions';\nimport { AUTH_LOGIN_SUCCESS, AUTH_LOGOUT, TWEETS_CREATED_SUCCESS, TWEETS_DETAIL_SUCCESS, TWEETS_LOADED_SUCCESS } from './types';\nexport const defaultState = {\n  auth: false,\n  tweets: {\n    areLoaded: false,\n    data: []\n  },\n  ui: {\n    isFetching: false,\n    error: null\n  }\n};\n\n// function reducer(state = defaultState, action) {\n//   switch (action.type) {\n//     case AUTH_LOGIN:\n//       return {\n//         ...state,\n//         auth: true,\n//       };\n//     case AUTH_LOGOUT:\n//       return {\n//         ...state,\n//         auth: false,\n//       };\n//     case TWEETS_LOADED:\n//       return {\n//         ...state,\n//         tweets: action.payload,\n//       };\n\n//     case TWEETS_CREATED:\n//     default:\n//       return state;\n//   }\n// }\n\nexport function auth(state = defaultState.auth, action) {\n  switch (action.type) {\n    case AUTH_LOGIN_SUCCESS:\n      return true;\n    case AUTH_LOGOUT:\n      return false;\n    default:\n      return state;\n  }\n}\nexport function tweets(state = defaultState.tweets, action) {\n  switch (action.type) {\n    case TWEETS_LOADED_SUCCESS:\n      return {\n        areLoaded: true,\n        data: action.payload\n      };\n    case TWEETS_DETAIL_SUCCESS:\n      // return { ...state, data: [...state.data, action.payload] };\n      return {\n        areLoaded: false,\n        data: [action.payload]\n      };\n    case TWEETS_CREATED_SUCCESS:\n      return {\n        ...state,\n        data: [action.payload, ...state.data]\n      };\n    default:\n      return state;\n  }\n}\nexport function ui(state = defaultState.ui, action) {\n  if (action.error) {\n    return {\n      isFetching: false,\n      error: action.payload\n    };\n  }\n  if (action.type.endsWith('/request')) {\n    return {\n      isFetching: true,\n      error: null\n    };\n  }\n  if (action.type.endsWith('/success')) {\n    return {\n      isFetching: false,\n      error: null\n    };\n  }\n  if (action.type === uiResetError.type) {\n    return {\n      ...state,\n      error: null\n    };\n  }\n  return state;\n}\n\n// export default function combinedReducer(state = defaultState, action) {\n//   return {\n//     auth: auth(state.auth, action),\n//     tweets: tweets(state.tweets, action),\n//   };\n// }\n\n// export default combineReducers({ auth, tweets });","map":{"version":3,"names":["uiResetError","AUTH_LOGIN_SUCCESS","AUTH_LOGOUT","TWEETS_CREATED_SUCCESS","TWEETS_DETAIL_SUCCESS","TWEETS_LOADED_SUCCESS","defaultState","auth","tweets","areLoaded","data","ui","isFetching","error","state","action","type","payload","endsWith"],"sources":["/Users/alex/Desktop/KEEPKODING/REACT_AVANZADO/GIT/FullStack07_React_app_tweeter_REDUX_Toolkit/src/store/reducers.js"],"sourcesContent":["import { uiResetError } from './actions';\nimport {\n  AUTH_LOGIN_SUCCESS,\n  AUTH_LOGOUT,\n  TWEETS_CREATED_SUCCESS,\n  TWEETS_DETAIL_SUCCESS,\n  TWEETS_LOADED_SUCCESS,\n} from './types';\n\nexport const defaultState = {\n  auth: false,\n  tweets: {\n    areLoaded: false,\n    data: [],\n  },\n  ui: {\n    isFetching: false,\n    error: null,\n  },\n};\n\n// function reducer(state = defaultState, action) {\n//   switch (action.type) {\n//     case AUTH_LOGIN:\n//       return {\n//         ...state,\n//         auth: true,\n//       };\n//     case AUTH_LOGOUT:\n//       return {\n//         ...state,\n//         auth: false,\n//       };\n//     case TWEETS_LOADED:\n//       return {\n//         ...state,\n//         tweets: action.payload,\n//       };\n\n//     case TWEETS_CREATED:\n//     default:\n//       return state;\n//   }\n// }\n\nexport function auth(state = defaultState.auth, action) {\n  switch (action.type) {\n    case AUTH_LOGIN_SUCCESS:\n      return true;\n    case AUTH_LOGOUT:\n      return false;\n    default:\n      return state;\n  }\n}\n\nexport function tweets(state = defaultState.tweets, action) {\n  switch (action.type) {\n    case TWEETS_LOADED_SUCCESS:\n      return { areLoaded: true, data: action.payload };\n\n    case TWEETS_DETAIL_SUCCESS:\n      // return { ...state, data: [...state.data, action.payload] };\n      return { areLoaded: false, data: [action.payload] };\n\n    case TWEETS_CREATED_SUCCESS:\n      return { ...state, data: [action.payload, ...state.data] };\n\n    default:\n      return state;\n  }\n}\n\nexport function ui(state = defaultState.ui, action) {\n  if (action.error) {\n    return { isFetching: false, error: action.payload };\n  }\n\n  if (action.type.endsWith('/request')) {\n    return { isFetching: true, error: null };\n  }\n\n  if (action.type.endsWith('/success')) {\n    return { isFetching: false, error: null };\n  }\n\n  if (action.type === uiResetError.type) {\n    return { ...state, error: null };\n  }\n\n  return state;\n}\n\n// export default function combinedReducer(state = defaultState, action) {\n//   return {\n//     auth: auth(state.auth, action),\n//     tweets: tweets(state.tweets, action),\n//   };\n// }\n\n// export default combineReducers({ auth, tweets });"],"mappings":"AAAA,SAASA,YAAY,QAAQ,WAAW;AACxC,SACEC,kBAAkB,EAClBC,WAAW,EACXC,sBAAsB,EACtBC,qBAAqB,EACrBC,qBAAqB,QAChB,SAAS;AAEhB,OAAO,MAAMC,YAAY,GAAG;EAC1BC,IAAI,EAAE,KAAK;EACXC,MAAM,EAAE;IACNC,SAAS,EAAE,KAAK;IAChBC,IAAI,EAAE;EACR,CAAC;EACDC,EAAE,EAAE;IACFC,UAAU,EAAE,KAAK;IACjBC,KAAK,EAAE;EACT;AACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASN,IAAIA,CAACO,KAAK,GAAGR,YAAY,CAACC,IAAI,EAAEQ,MAAM,EAAE;EACtD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKf,kBAAkB;MACrB,OAAO,IAAI;IACb,KAAKC,WAAW;MACd,OAAO,KAAK;IACd;MACE,OAAOY,KAAK;EAChB;AACF;AAEA,OAAO,SAASN,MAAMA,CAACM,KAAK,GAAGR,YAAY,CAACE,MAAM,EAAEO,MAAM,EAAE;EAC1D,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKX,qBAAqB;MACxB,OAAO;QAAEI,SAAS,EAAE,IAAI;QAAEC,IAAI,EAAEK,MAAM,CAACE;MAAQ,CAAC;IAElD,KAAKb,qBAAqB;MACxB;MACA,OAAO;QAAEK,SAAS,EAAE,KAAK;QAAEC,IAAI,EAAE,CAACK,MAAM,CAACE,OAAO;MAAE,CAAC;IAErD,KAAKd,sBAAsB;MACzB,OAAO;QAAE,GAAGW,KAAK;QAAEJ,IAAI,EAAE,CAACK,MAAM,CAACE,OAAO,EAAE,GAAGH,KAAK,CAACJ,IAAI;MAAE,CAAC;IAE5D;MACE,OAAOI,KAAK;EAChB;AACF;AAEA,OAAO,SAASH,EAAEA,CAACG,KAAK,GAAGR,YAAY,CAACK,EAAE,EAAEI,MAAM,EAAE;EAClD,IAAIA,MAAM,CAACF,KAAK,EAAE;IAChB,OAAO;MAAED,UAAU,EAAE,KAAK;MAAEC,KAAK,EAAEE,MAAM,CAACE;IAAQ,CAAC;EACrD;EAEA,IAAIF,MAAM,CAACC,IAAI,CAACE,QAAQ,CAAC,UAAU,CAAC,EAAE;IACpC,OAAO;MAAEN,UAAU,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC;EAC1C;EAEA,IAAIE,MAAM,CAACC,IAAI,CAACE,QAAQ,CAAC,UAAU,CAAC,EAAE;IACpC,OAAO;MAAEN,UAAU,EAAE,KAAK;MAAEC,KAAK,EAAE;IAAK,CAAC;EAC3C;EAEA,IAAIE,MAAM,CAACC,IAAI,KAAKhB,YAAY,CAACgB,IAAI,EAAE;IACrC,OAAO;MAAE,GAAGF,KAAK;MAAED,KAAK,EAAE;IAAK,CAAC;EAClC;EAEA,OAAOC,KAAK;AACd;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}