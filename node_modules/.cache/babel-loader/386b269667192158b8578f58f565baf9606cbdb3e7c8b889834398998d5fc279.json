{"ast":null,"code":"import { createReducer } from '@reduxjs/toolkit';\nimport { authLogin, authLogout, tweetsList, uiResetError } from './actions';\nimport { TWEETS_CREATED_SUCCESS, TWEETS_DETAIL_SUCCESS, TWEETS_LOADED_SUCCESS } from './types';\nexport const defaultState = {\n  auth: false,\n  tweets: {\n    areLoaded: false,\n    data: []\n  },\n  ui: {\n    isFetching: false,\n    error: null\n  }\n};\nexport const auth = createReducer(defaultState.auth, builder => {\n  builder.addCase(authLogin.fulfilled, () => true).addCase(authLogout.fulfilled, () => false);\n});\n\n// export function tweets(state = defaultState.tweets, action) {\n//   switch (action.type) {\n//     case tweetsList.fulfilled.type:\n//       return { areLoaded: true, data: action.payload };\n\n//     case TWEETS_DETAIL_SUCCESS:\n//       return { areLoaded: false, data: [action.payload] };\n\n//     case TWEETS_CREATED_SUCCESS:\n//       return { ...state, data: [action.payload, ...state.data] };\n\n//     default:\n//       return state;\n//   }\n// }\n\nexport const tweets = createReducer(defaultState.tweets, builder => {\n  builder.addCase(tweetsList.fulfilled, (state, action) => {\n    state.areLoaded = true;\n    state.data = action.payload;\n  }).addCase(TWEETS_DETAIL_SUCCESS, (state, action) => {\n    state.areLoaded = false;\n    state.data = [action.payload];\n  }).addCase(TWEETS_CREATED_SUCCESS, (state, action) => {\n    state.data.unshift(action.payload);\n  });\n});\nconst isActionError = action => action.error;\nconst isRequestAction = action => action.type.endsWith('/pending');\nconst isSuccessAction = action => action.type.endsWith('/fulfilled');\nexport const ui = createReducer(defaultState.ui, builder => {\n  builder.addCase(uiResetError, state => {\n    state.error = null;\n  }).addMatcher(isActionError, (state, action) => {\n    state.isFetching = false;\n    state.error = action.payload;\n  }).addMatcher(isRequestAction, state => {\n    state.isFetching = true;\n    state.error = null;\n  }).addMatcher(isSuccessAction, state => {\n    state.isFetching = false;\n    state.error = null;\n  });\n});","map":{"version":3,"names":["createReducer","authLogin","authLogout","tweetsList","uiResetError","TWEETS_CREATED_SUCCESS","TWEETS_DETAIL_SUCCESS","TWEETS_LOADED_SUCCESS","defaultState","auth","tweets","areLoaded","data","ui","isFetching","error","builder","addCase","fulfilled","state","action","payload","unshift","isActionError","isRequestAction","type","endsWith","isSuccessAction","addMatcher"],"sources":["/Users/alex/Desktop/KEEPKODING/REACT_AVANZADO/GIT/FullStack07_React_app_tweeter_REDUX_Toolkit/src/store/reducers.js"],"sourcesContent":["import { createReducer } from '@reduxjs/toolkit';\n\nimport { authLogin, authLogout, tweetsList, uiResetError } from './actions';\nimport {\n  TWEETS_CREATED_SUCCESS,\n  TWEETS_DETAIL_SUCCESS,\n  TWEETS_LOADED_SUCCESS,\n} from './types';\n\nexport const defaultState = {\n  auth: false,\n  tweets: {\n    areLoaded: false,\n    data: [],\n  },\n  ui: {\n    isFetching: false,\n    error: null,\n  },\n};\n\n\nexport const auth = createReducer(defaultState.auth, builder => {\n  builder\n    .addCase(authLogin.fulfilled, () => true)\n    .addCase(authLogout.fulfilled, () => false);\n});\n\n// export function tweets(state = defaultState.tweets, action) {\n//   switch (action.type) {\n//     case tweetsList.fulfilled.type:\n//       return { areLoaded: true, data: action.payload };\n\n//     case TWEETS_DETAIL_SUCCESS:\n//       return { areLoaded: false, data: [action.payload] };\n\n//     case TWEETS_CREATED_SUCCESS:\n//       return { ...state, data: [action.payload, ...state.data] };\n\n//     default:\n//       return state;\n//   }\n// }\n\nexport const tweets = createReducer(defaultState.tweets, builder => {\n  builder\n    .addCase(tweetsList.fulfilled, (state, action) => {\n      state.areLoaded = true;\n      state.data = action.payload;\n    })\n    .addCase(TWEETS_DETAIL_SUCCESS, (state, action) => {\n      state.areLoaded = false;\n      state.data = [action.payload];\n    })\n    .addCase(TWEETS_CREATED_SUCCESS, (state, action) => {\n      state.data.unshift(action.payload);\n    });\n});\n\n\nconst isActionError = action => action.error;\nconst isRequestAction = action => action.type.endsWith('/pending');\nconst isSuccessAction = action => action.type.endsWith('/fulfilled');\n\nexport const ui = createReducer(defaultState.ui, builder => {\n  builder\n    .addCase(uiResetError, state => {\n      state.error = null;\n    })\n    .addMatcher(isActionError, (state, action) => {\n      state.isFetching = false;\n      state.error = action.payload;\n    })\n    .addMatcher(isRequestAction, state => {\n      state.isFetching = true;\n      state.error = null;\n    })\n    .addMatcher(isSuccessAction, state => {\n      state.isFetching = false;\n      state.error = null;\n    });\n});\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,kBAAkB;AAEhD,SAASC,SAAS,EAAEC,UAAU,EAAEC,UAAU,EAAEC,YAAY,QAAQ,WAAW;AAC3E,SACEC,sBAAsB,EACtBC,qBAAqB,EACrBC,qBAAqB,QAChB,SAAS;AAEhB,OAAO,MAAMC,YAAY,GAAG;EAC1BC,IAAI,EAAE,KAAK;EACXC,MAAM,EAAE;IACNC,SAAS,EAAE,KAAK;IAChBC,IAAI,EAAE;EACR,CAAC;EACDC,EAAE,EAAE;IACFC,UAAU,EAAE,KAAK;IACjBC,KAAK,EAAE;EACT;AACF,CAAC;AAGD,OAAO,MAAMN,IAAI,GAAGT,aAAa,CAACQ,YAAY,CAACC,IAAI,EAAEO,OAAO,IAAI;EAC9DA,OAAO,CACJC,OAAO,CAAChB,SAAS,CAACiB,SAAS,EAAE,MAAM,IAAI,CAAC,CACxCD,OAAO,CAACf,UAAU,CAACgB,SAAS,EAAE,MAAM,KAAK,CAAC;AAC/C,CAAC,CAAC;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,OAAO,MAAMR,MAAM,GAAGV,aAAa,CAACQ,YAAY,CAACE,MAAM,EAAEM,OAAO,IAAI;EAClEA,OAAO,CACJC,OAAO,CAACd,UAAU,CAACe,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;IAChDD,KAAK,CAACR,SAAS,GAAG,IAAI;IACtBQ,KAAK,CAACP,IAAI,GAAGQ,MAAM,CAACC,OAAO;EAC7B,CAAC,CAAC,CACDJ,OAAO,CAACX,qBAAqB,EAAE,CAACa,KAAK,EAAEC,MAAM,KAAK;IACjDD,KAAK,CAACR,SAAS,GAAG,KAAK;IACvBQ,KAAK,CAACP,IAAI,GAAG,CAACQ,MAAM,CAACC,OAAO,CAAC;EAC/B,CAAC,CAAC,CACDJ,OAAO,CAACZ,sBAAsB,EAAE,CAACc,KAAK,EAAEC,MAAM,KAAK;IAClDD,KAAK,CAACP,IAAI,CAACU,OAAO,CAACF,MAAM,CAACC,OAAO,CAAC;EACpC,CAAC,CAAC;AACN,CAAC,CAAC;AAGF,MAAME,aAAa,GAAGH,MAAM,IAAIA,MAAM,CAACL,KAAK;AAC5C,MAAMS,eAAe,GAAGJ,MAAM,IAAIA,MAAM,CAACK,IAAI,CAACC,QAAQ,CAAC,UAAU,CAAC;AAClE,MAAMC,eAAe,GAAGP,MAAM,IAAIA,MAAM,CAACK,IAAI,CAACC,QAAQ,CAAC,YAAY,CAAC;AAEpE,OAAO,MAAMb,EAAE,GAAGb,aAAa,CAACQ,YAAY,CAACK,EAAE,EAAEG,OAAO,IAAI;EAC1DA,OAAO,CACJC,OAAO,CAACb,YAAY,EAAEe,KAAK,IAAI;IAC9BA,KAAK,CAACJ,KAAK,GAAG,IAAI;EACpB,CAAC,CAAC,CACDa,UAAU,CAACL,aAAa,EAAE,CAACJ,KAAK,EAAEC,MAAM,KAAK;IAC5CD,KAAK,CAACL,UAAU,GAAG,KAAK;IACxBK,KAAK,CAACJ,KAAK,GAAGK,MAAM,CAACC,OAAO;EAC9B,CAAC,CAAC,CACDO,UAAU,CAACJ,eAAe,EAAEL,KAAK,IAAI;IACpCA,KAAK,CAACL,UAAU,GAAG,IAAI;IACvBK,KAAK,CAACJ,KAAK,GAAG,IAAI;EACpB,CAAC,CAAC,CACDa,UAAU,CAACD,eAAe,EAAER,KAAK,IAAI;IACpCA,KAAK,CAACL,UAAU,GAAG,KAAK;IACxBK,KAAK,CAACJ,KAAK,GAAG,IAAI;EACpB,CAAC,CAAC;AACN,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}